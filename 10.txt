计算机网络原理笔记 10
数据通信技术（二）
作者：赵明心    日期：2019/02/18

    模拟信号需要进行滤波和调制才可以传播，数字信号也需要调制解调，主要是完成数模模数转换。计算机中的数字数据转变成为模拟信号后才能在模拟信道上传送。

    模拟数据在数字信道传输的时候先经过编码解码器完成模拟数据到数字数据的编码，同时接收方需要进行解码。计算机中的数字数据并不适合在数字信道进行传输，例如直流分量的累积不适合在长距离进行传输，再者传输时不易提取传输频率。FM编码具有自同步能力，接收方可以从信号本身提取信号的频率，数字数据也必须经过一定编码才能在数字信道传送。

    简单地说，模拟信道传输都需要调制解调，数字信道需要编码解码。计算机网络的重点是最后一种情况，数字数据在数字信道传输。下面介绍后三种传输每种情况实现的原理。

3.3 基带传输和频带传输
    什么是基带信号什么频带信号？
    1、基带信号（Baseband Signal）
        信源发出的没有经过调制的原始电信号
    2、将基带信号直接送到通信线路的传输方式称为基带传输
        （1）由模拟信号源变换得到的信号称为模拟基带信号
        （2）由计算机产生的二进制信号称为数字基带信号
    3、将基带信号经过调制后送到通信线路上的传输方式称为频带传输
    下面如果没有特殊说明，提到的基带信号都是数字基带信号。计算机网络传输的时候，提到基带传输，想到的首先是数字传输技术，提到频带传输，想到的是模拟传输技术。例如计算机网络的以太网，传统10M网络，10 base T，base指明是基带传输，而还有一个使用频带传输的10 broad 36，表示使用的是频带传输，字母T表示传输介质为双绞线，F表示光纤，X表示传输可以存在多种介质。

    计算机网络主要讲解数字数据基带传输。

3.3.1   数字数据的基带传输
    1、基带传输：在传输时直接使用基带信号
        （1）基带传输是一种最简单最基本的传输方式，一般用低电平表示“0”，用高电平表示“1”
        （2）适用范围：低速和高速的各种情况
        （3）限制：因基带信号所占的频率成分很宽，所以对传输线有一定的要求。
    2、核心内容：编码方式

    一般情况下可能需要添加额外信号确定传输频率，而且可能有直流分量累积的问题。

3.3.2   数字数据的编码
    NRZ、曼彻斯特、差分曼彻斯特、逢“1”变化NRZ，逢“0”变化NRZ。
    NRZ是不归零制，归零制需要回到基准点位，不归零制表示持续高为1，持续低为0。FM和PM就是曼彻斯特和差分曼彻斯特，这种编码要求高到低为0，低到高为1，这种编码方式是自同步的，可以直接确定频率，而且曼彻斯特编码没有直流分量累积，所以适合在电介质传输。
    
    但是曼彻斯特编码也存在问题，例如在10M的传输介质上，对于第一种编码方式，可以使用10M的速度，在使用曼彻斯特编码的情况下，传输速率只有5M，在同样传输介质最高频率的情况下，曼彻斯特的传输速率变低。在10M以太网中，使用的就是曼彻斯特编码，实际传输的时候速率是20M。但是到了100M的以太网，100 base T的改进中有一项就是改进编码方案，方案是4B/5B，即每4~5位进行编码，编码效率从50%提高到80%,100 base T的实际传输速率是125M。

    编码在数字通信系统中进行传输的时候是非常重要的。
    差分曼彻斯特编码在早期的令牌环网中使用，差分曼彻斯特编码解决了一个问题，就是反向错误，就是高低电位反向，差分曼彻斯特编码不变，但是硬件实现相对复杂。

    现在的编码方式越来越复杂，大家希望编码能达到传送要求，同时又有比较高的传输效率。

3.4 数字数据的模拟传输（频带传输）
    1、频带传输：指在一定频率范围内的线路上，进行载波传输。用基带信号对载波进行调制，使其变为适合线路传送的信号。
    2、调制（Modulation）：用基带脉冲对载波信号的某些参量进行控制，使这些参量随基带脉冲变化。
    3、解调（Demodulation）：调制的反变换
    4、调制解调器MODEM（modulation-demodulation）

    调制解调器：
    （1）调制器的主要作用就是个波形变换器，它将基带数字信号的波形变换成适合于模拟信道传输的波形
        注意：这并不改变数据的内容
    （2）解调器的作用是波形识别器，它将经过调制器变换过的模拟信号恢复成原来的数字信号，若识别不正确，则要产生误码。

3.4.1   常用的调制技术
    根据载波Asin(wt+p)的三个特性：幅度、频率、相位，产生常用的三种调制技术：
        （1）幅移键控法 Amplitude-shift keying(ASK)
        （2）频移键控法 Frequency-shift keying(FSK)
        （3）相移键控法 Phase-shift keying(PSK)
    实际的调制解调器原理比这三个最简单的例子复杂的多，主要是为了更高的调制解调效率。这三种方法主要对应于调幅、调频、调相，就是利用载波的三个特性进行变换，根据数字数据的0和1的不同进行变换。

    三种调制方法的调制波形此处略去。真正的调制解调器的工作原理（自学，物理构成，具体载波特性的改变方法）

3.5 模拟数据的数字化编码
    1、模拟数据数字传输是解决模拟信号数字化问题
    （1）也被称为脉冲代码调制PCM（Pulse Code Modulation）
    （2）根据奈奎斯特采样定理进行采样
    （3）将模拟信号振幅分为多级（2^n），每一级用n位表示。例如贝尔系统的T1载波将模拟信号分为128级，每次采样用7位二进制数表示。

    2、常用的PCM技术
    差分脉冲代码调制
    原理：不是将振幅数字化，而是根据前后两个采样值的差进行编码，输出二进制数字。

    编码的时候量化级越多越精确，但是对应的传输数据也越多，脉冲编码调制的方法在实际中一般不会直接使用，因为数据量太大了。采样、量化、编码是模拟信号数字化的基本三步。

    模拟话音  —— 采样电路 ——（PAM信号） —— 量化和编码 ——（PCM信号） —— 数字化声音

3.6 数据同步方式
    数据通信中还要解决的一个重要问题是同步问题，简单的说：
    1、同步是指接收端严格地按照发送端所发送的每个码元的重复频率以及起止时间来接收数据，也就是要在时间基准上必须取得一致。
    2、根据同步的对象不同可分为：
    （1）位同步
    （2）字符同步
    （3）帧同步
    ......

    同步者层次的不同，其所使用的同步技术不同，例如物理层的同步单位是位，数据链路层的同步单位是帧，而网络层的同步是分组同步。但是要注意的是，频率的不同和起止位置的确定，需要分别由哪些层次来做？接收方需要知道发送方频率，只有第一层需要做，即物理层来做，因为高层不需要面对位的问题，物理层保证正确接受每一位之后其它层不需要做。起止位置的确定是每一层都需要做的，因为每层的角度不同，每层需要确定本层数据单元的起止位置。

    注意这里的字符同步，因为在计算机网络发展中，对数据处理有两种出发点，第一种是面向比特的，点到点传输中以二进制位为最小处理单位，还有一种是面向字符的，以字符为最小处理单位，字符同步需要准确画出每个字符的起止位置。面向字符和面向比特的区别是，面向字符需要区分每个字符，控制信息也不是位串而是字符串，例如“START”而不是“01000”这种。面向比特灵活，面向字符的方式简单，因为不同计算机使用的字符集编码不同，这个时候字符方式就不可行了。

    帧同步和分组同步将在不同的层次进行介绍。

3.6.1   位同步
    位同步有两种方法，一种是外同步一种是内同步。为了确定接收频率，两种方式，一种是添加控制信息，提供发送频率等信息。自同步是能够从信号本身提取频率，自同步和外同步针对的是频率信息。起始和结束信息必须要额外给出，这里仅仅是针对频率。例如以太网，以太网发送数据的时候有8个字节的额外控制信息，7个“10101010”最后一个“10101011”，前七个用来确定频率，最后一个用来确定起始位置，例如在曼彻斯特编码的时候本身是可以确定频率的。但是实际的时候没有采用自同步方式，之后讲解以太网的时候会介绍。

3.6.2   字符同步
    字符同步有异步制和同步制两种方式。

    异步制规定：每个字符都进行了扩充，8位字符增加1位起始位和两位停止位，变成11位数据。

    同步制规定：两个字符间的间隔为0，每个字符宽度确定

    第一种方式每个字符独立定界，第二种方式定界与前后密切相关，第一种方式好处是，自己的定界出错只影响自己，而第二种方式一个出错后面全错，而且不可以停顿。但是第一种方式会有很多冗余信息。

要注意，从数据链路层开始，每层只需要解决数据起始位置和结束位置的确定问题，而不解决频率问题，频率问题只在物理层解决。






