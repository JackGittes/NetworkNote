计算机网络原理笔记　21
局域网技术（一）
作者：赵明心    日期：2019/03/06

5   局域网与广域网及相应实例

    主要内容：
    （1）局域网体系结构
    （2）信道共享技术
    （3）以太网系列标准
    （4）无线局域网络
    计算机历史上，广域网在先，局域网在后，DAPRAnet主干线路连接美国东西海岸，使用X.25网络。广域网我们直接在使用，但却很少去配置，真正日常中经常使用的设备是主机网卡、交换机、小型路由器。为什么先出现的不是局域网而是广域网？因为计算机网络产生于计算机之后，终端计算机设备早期以大型、中型机为主，一个建筑中很少可以拥有多台计算机，多数科研机构和大学没有自己的计算机设备。

5.1 局域网概述
    1、局域网产生的原因
    （1）80年代，微型机发展迅速，彼此需要相互通信（近距离），共享资源
    （2）功能分布：分布式计算，分布式数据库
    2、局域网定义
    是一种将小区域内的各种通信设备互联在一起的通信网络

    小范围空间中出现多台主机，早先的机房是一个亚终端，连接在一个主机上，那些键盘与显示器只是远端计算机的终端，主机关闭之后，本地就失去了功能。今天对于客户端而言，局域网更多是作为接入互联网的前端网络，而服务器端更多是为了分布式数据库和分布式计算。

    局域网本身并不能实现很多功能，只是通信功能。从网络体系结构的划分来看，局域网是通信子网，目的是在设备之间完成信息的传递，至于信息传递之后用来做什么，是由资源子网来完成的。这些末端设备包含了中继器、HUB、二层交换机、三层交换机等。而终端主机上，不仅仅安装了网卡及其驱动，还要安装TCP/IP协议栈才能完成各种应用，不过此时仍然能发送MAC帧，能在数据链路层面完成基本的数据传递功能。在增加了TCP/IP协议栈之后，才能将数据链路的信息进行利用。而现在的操作系统一般已经集成了TCP/IP协议栈，有时候有一些特殊的网络协议没有安装，需要在特定应用程序安装的时候安装，例如一些视频播放协议。

5.1.1   局域网基本特征

    |---- HUB ---- Stations
    |
    |---- HUB ---- Stations
    |
    |---- HUB ---- Stations    
    |
    Switch —————— Server Farm

    1、覆盖范围小
    房间、建筑物、园区范围距离≤25km
    2、高传输速率
    10Mbps ~ 1000Mbps
    3、低误码率
    10e-8 ~ 10e-10
    4、采用基带传输
    5、为一个单位所拥有，自行建设，不对外提供服务

    每个HUB连接若干主机，在宿舍中最常见的是这种拓扑，不过在跟主机之间相连的部分可能是交换机，现在一般叫交换式HUB，也称为交换机（不同于大型交换机）。早期的时候，以共享式HUB为主，现在称为HUB。

    局域网有一个特征是共享单一信道，所以很难进行大规模共享，无法把大量的设备同时接入到局域网内部。 不过现在运营商希望末端用户越多越好，所以现在的末端设备扩容比较快，总能容纳足够多的用户接入。

    相同介质，距离越短，带宽越大，在ADSL上有很明显的现象，ADSL可以检测双方带宽能力，距离大带宽能力小，距离近带宽能力大。千兆以太网现在已经在普遍使用，目前一般主机的网卡都可以支持10/100/1000Mbps，可以自适应，目前已经有10000Mbps的网络，但对于末端主机而言，由于需求的原因，所以还没有很多兼容10000Mbps的网络。

    目前有线局域网，多使用的是基带传输，而无线局域网现在使用的多是频带传输，需要经过调制才能传输。有线局域网的10/100/1000等，用示波器观察的话，还可以看到方波信号，有可能是编码后的方波，例如曼彻斯特、差分曼彻斯特等编码后的方波信号。而无线局域网的信号基本是正余弦信号。

    最后一个特点中的对外服务的特点，局域网提供的服务应该是通信作用，局域网属于通信网络，严格来说不可以提供信息服务，必须安装相应的资源子网的应用协议。所以，局域网并没有对外提供服务，宿舍中的局域网如果没有应用服务，那么在家访问宿舍。不对外提供服务就体现为不对外提供专门的数据传递服务，如果局域网中有专门对外的应用型服务器，那么可以对外提供一定的数据服务。

5.1.2   局域网的基本构成
    1、局域网拓扑结构
    （1）星型结构
    （2）环型结构
    （3）总线型结构
    （4）树型结构
    2、传输介质
    （1）双绞线
    （2）基带同轴电缆
    （3）光纤
    （4）无线

    树型拓扑可以看成是有多种星型拓扑生长而成，现代局域网中最常见的是树型拓扑和星型拓扑。总线型拓扑和环型拓扑比较少见，总线型拓扑是在以太网最初诞生的时候采用的结构，总线型以太网已经退出了历史舞台。环型拓扑主要是IBM的令牌环网采用，现在比较少使用，国外有些公司还保留了环型拓扑结构。局域网的拓扑有一个特点是规则性，无论是那种拓扑都具有一种明确的几何形状，而广域网往往没有明晰的拓扑。广域网经常有布线的限制等等，导致拓扑很难按照用户希望的最优化设计进行。

    随着光纤网络的出现，广域网中出现了省域范围的SDS网络，SDS也是一个环型网络。局域网中使用的传输介质和通常计算机网络中的传输介质是一样的，电介质包括双绞线、同轴电缆，光介质包括光纤。基带同轴电缆在计算机网络组网的时候也比较少见。光纤在主干网络中被大范围使用，但是用户终端很少会见到光纤。在用户端百兆网络足以支撑绝大多数应用，因此没有必要使用光纤。光纤在服务器端有使用光纤的需求，因为服务器端有大量的吞吐需求。对于交换机来说，也需要使用光纤，交换机经常起到汇聚数据流的作用，所以也需要光纤来进行。

    光纤入户是指光纤进入家门口，在家庭内部的小规模局域网仍然是电介质进行的，入户的接口成为数据的汇聚点，使用光纤介质向外传播。目前主干网络基本没有铜介质，但是到用户端全面光纤化还有很长时间，价格也是一个问题。光设备、光纤等比起十年前已经便宜了很多，但是跟双绞线相比仍然要昂贵很多。

    在目前国家倡导的物联网中，有一个很流行的局域网标准 —— ZigBee网络，但是ZigBee目前不属于IEEE局域网委员会制定的标准，不属于IEEE的802体系。

5.2   局域网的IEEE 802体系结构
    
                          802.1 网际互连                    |    网际互连
    802.1 寻址管理         802.2 逻辑链路控制                 |  逻辑链路控制LLC
                                                           |
    802.1 体系结构   802.3     802.4      802.5      802.6  |  媒体访问控制MAC
                   媒体访问    媒体访问    媒体访问    媒体访问 |           
                    物理层     物理层      物理层      物理层  |     物理层
    
    对于每一种网络的研究，层次划分都是一个例行方法，对于每一个新出现的网络都需要进行层次划分，在进行网络设计的时候也需要按照分层的方式来进行设计。

    802体系结构主要是IEEE 局域网标准委员会，与计算机网络相关的标准组织有很多。在众多的802体系当中，构成一个倒L形状，这些之间有明确的界限。注意802.1寻址管理部分跨越了所有的层次，说明每个层次都需要实现地址机制，各个层次的地址设置和寻址方法都不相同。

    在垂直的三个层次中，802.1网际互连功能很弱，因为局域网没有太强的互联功能，局域网中允许广播传播。逻辑链路控制主要是在真实物理链路之上抽象出一个逻辑链路。这个逻辑链路和数据链路层有很多类似之处，包括帧的保存和传输等等。之后几个有与OSI不太相同的部分，802.3~6部分。局域网中是共享信道的，共享信道需要有共享信道的访问机制，不同策略的控制方法在具体网络设计的时候有不同的协议，但是最终提供的数据承载服务的接口应该是一致的。

5.2.1   IEEE 802中的主要标准
    （1）802.1A 概述和体系结构
    （2）802.1B 寻址、网络管理、网络互连及高层接口
    （3）802.2 逻辑链路控制子层LLC
    （4）802.3 以太网访问方法和物理层规范
    （5）802.4 令牌总线网访问方法和物理层规范
    （6）802.5 令牌环网访问方法和物理层规范
    （7）802.6 城域网访问方法和物理层规范（DQDB）
    （8）802.8 光纤技术相关标准
    目前的802标准已经到了30以上，新的标准体系在计算机网络课程中没有涉及到。现在涉及最多的是802.3，也是跟现实联系最紧密的，就是有线以太网。

5.2.2   IEEE 802体系结构

    略去一张图，对比OSI标准体系结构和IEEE 802标准之间的对应关系。
